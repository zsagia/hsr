<md-card style="max-width: 100%">
  <form [formGroup]="manualForm" (submit)="onSubmit($event)">

    <div style="display:flex; flex-direction:row;flex-wrap:wrap; align-items: flex-start; justify-content: flex-start;">
      <md-input [type]="text" formControlName="titel" placeholder="Titel"></md-input>
      <input hidden type="text" formControlName="manual">
    </div>

    <div style="display: flex; flex-direction: column; align-items: flex-start;">
      <span>Cover</span>
      <input hsrFileInput (onSelected)="onFileSelected($event)" [reset]="resetFileInput" formControlName="manualFile" type="file"/>

      <div *ngIf="manualForm.controls['manual'].value" style="position: relative;">
        <img style="height: 150px; width: auto;" [src]="manualForm.controls['manual'].value">
        <button md-button
                (click)="deleteCover()"
                style="position: absolute; top: 0px; right: 0px; min-width: 20px; font-size: x-large; background-color: rgba(0,0,0,0.7); color: white;">x
        </button>
      </div>
    </div>

    <md-card-actions align="end">
      <button md-raised-button [type]="submit" [disabled]="!manualForm.valid">Speichern</button>
    </md-card-actions>
  </form>

  <md-button-toggle-group name="view" [value]="view" (change)="setView($event)">
    <md-button-toggle value="list">
      <i class="fa fa-list"></i>
    </md-button-toggle>
    <md-button-toggle value="grid">
      <i class="fa fa-th"></i>
    </md-button-toggle>
  </md-button-toggle-group>
</md-card>

<div style="padding-top: 16px;" *ngIf="view === 'list'">
  <md-nav-list class="md-card">
    <a md-list-item style="border-bottom: solid 1px lightgray" *ngFor="let manual of manualsList | async" [href]="manual.url" target="_blank">
      <span class="fa-stack fa-lg">
      <i class="fa fa-file-text fa-stack-1x"></i>
      <i class="fa fa-square-o fa-stack-2x"></i>
        </span>
      {{manual.title}}
    </a>
  </md-nav-list>
</div>

<div style="padding-top: 16px;" *ngIf="view === 'grid'">
  <div style="display:flex; flex-direction: column; align-items: center;">
    <div style="width: 100%;max-width: 1200px; padding: 16px;">
      <md-grid-list cols="4" rowHeight="fit" gutterSize="16px" style="height: 156px;">
        <a [href]="manual.url" target="_blank" *ngFor="let manual of manualsList | async">
          <md-grid-tile class="md-card" style="cursor: pointer;animation: flyin 0.4s ease;">
            <div class="centered noselect clickthrough">
              <span class="fa-stack fa-2x">
  <i class="fa fa-square fa-stack-2x"></i>
  <i class="fa fa-file-pdf-o fa-stack-1x fa-inverse"></i>
</span>
              <p>{{manual.title}}</p>
            </div>
          </md-grid-tile>
        </a>
      </md-grid-list>
    </div>
  </div>
</div>
